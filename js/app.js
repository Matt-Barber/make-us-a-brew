!function(a,b,c,d,e){"use strict";a(function(){function b(a){for(var b=c.getElementById(a),d=b.elements,e={},f=0;f<d.length;f++)"submit"!==d[f].type&&("checkbox"===d[f].type&&d[f].checked===!0||"checkbox"!==d[f].type)&&(e[d[f].name]=d[f].value,d[f].value="");return e}function f(a,b,c,d,e){if(XMLHttpRequest){var f=new XMLHttpRequest;"withCredentials"in f&&("GET"===b&&(a+="?",Object.keys(c).forEach(function(b,d){a+=b+"="+c[b]+"&"}),a=a.slice(0,a.length-1),c={}),f.open(b,a,!0),f.onerror=e,f.onreadystatechange=function(){4===f.readyState&&(f.status>=200&&f.status<400?d(JSON.parse(f.responseText)):e(new Error(JSON.parse(f))))},f.send(c))}else if(XDomainRequest){var f=new XDomainRequest;f.open(b,a),f.onerror=e,f.onload=function(){d(JSON.parse(f.responseText))},f.send(c)}}var g={dismissable:!0,opacity:.5,in_duration:300,out_duration:300},h=[];a("select").material_select(),a(".parallax").parallax(),h.push({name:"Foo",drink:"tea",milk:!0,sugar:0}),h.push({name:"Bar",drink:"coffee",milk:!0,sugar:1}),c.getElementById("current-drinkers").appendChild(e.create_table("current-drinkers",h,"highlight"));var i=c.getElementById("current-drinkers-table");h.forEach(function(a,b){d.addDrinker(a)});var j=c.getElementById("selector_btn"),k=c.getElementById("add_btn"),l=c.getElementById("delete_btn"),m=c.getElementById("add_form_data"),n=c.getElementById("remove_form_data");k.onclick=function(){var b=c.getElementsByName("drink");b[0].options[0].selected=!0,a("#add_form").openModal(g)},m.addEventListener("submit",function(f){f.preventDefault();var g=b("add_form_data");g.hasOwnProperty("milk")||(g.milk="no");try{d.addDrinker(g),e.add_row(i,{name:g.name,drink:g.drink,milk:g.milk,sugar:g.sugar}),c.getElementById("current-drinkers").style.display="block",a("#add_form").closeModal()}catch(h){}},!1),l.onclick=function(){var b=c.getElementById("remove_name");b.options.length=1,b.options[0].selected=!0,d.getRemainingDrinkers().forEach(function(a,d){var e=c.createElement("option");e.value=a,e.textContent=a,b.appendChild(e)},!1),a("#remove_form").openModal(g)},n.addEventListener("submit",function(f){f.preventDefault();var g=b("remove_form_data");d.removeDrinker(g.name),e.remove_row(i,g.name),0===e.row_count(i)&&(c.getElementById("current-drinkers").style.display="none"),a("#remove_form").closeModal()},!1),j.onclick=function(){var b=d.getMaker(),h=[],j=(c.getElementById("selector"),c.getElementById("slt_head")),k=c.getElementById("slt_content"),l=c.createElement("h5"),m="",n=c.createElement("div"),o=c.createElement("div"),p=c.getElementById("can_make"),q=c.getElementById("cannot_make");k.innerHTML="",j.innerHTML="",b?(h=["coffee","caffeine","tea","energy"],p.style.display="block",m=b):(h=["nope","grumpy","no"],p.style.display="none",m=d.getDrinkers().length>0?"No drinkers left, restart!":"Add drinkers to get started!"),l.innerHTML=m.charAt(0).toUpperCase()+m.slice(1),j.appendChild(l),n.setAttribute("class","progress"),o.setAttribute("class","indeterminate"),n.appendChild(o),k.appendChild(n),f("http://api.giphy.com/v1/gifs/random","GET",{api_key:"dc6zaTOxFJmzC",tag:h[Math.floor(Math.random()*h.length)]},function(a){var b=c.createElement("img");b.setAttribute("class","responsive-img"),b.setAttribute("style","border-radius: 50%;"),b.id="giphy",b.src=a.data.image_url,k.innerHTML="",k.appendChild(b)},function(a){console.log(a)}),p.onclick=function(){d.drinkerCan(b),e.highlight_row(i,b)},q.onclick=function(){d.drinkerCant(b)},a("#selector").openModal(g)}})}(window.jQuery,window,document,new picker,new table);