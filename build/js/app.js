!function(a,b,c,d,e){"use strict";a(function(){function b(a){for(var b=c.getElementById(a),d=b.elements,e={},f=0;f<d.length;f++)"submit"!==d[f].type&&(e[d[f].name]=d[f].value,d[f].value="");return e}function f(a,b,c,d,e){if(XMLHttpRequest){var f=new XMLHttpRequest;"withCredentials"in f&&("GET"===b&&(a+="?",Object.keys(c).forEach(function(b,d){a+=b+"="+c[b]+"&"}),a=a.slice(0,a.length-1),c={}),f.open(b,a,!0),f.onerror=e,f.onreadystatechange=function(){4===f.readyState&&(f.status>=200&&f.status<400?d(JSON.parse(f.responseText)):e(new Error(JSON.parse(f))))},f.send(c))}else if(XDomainRequest){var f=new XDomainRequest;f.open(b,a),f.onerror=e,f.onload=function(){d(JSON.parse(f.responseText))},f.send(c)}}var g={dismissable:!0,opacity:.5,in_duration:300,out_duration:300},h=[];h.push({name:"Foo",drink:"tea",milk:!0,sugar:0}),h.push({name:"Bar",drink:"coffee",milk:!0,sugar:1}),c.getElementById("current-drinkers").appendChild(e.create_table("current-drinkers",h,"highlight bordered"));var i=c.getElementById("current-drinkers-table");h.forEach(function(a,b){d.addDrinker(a)});var j=c.getElementById("selector_btn"),k=c.getElementById("add_btn"),l=c.getElementById("delete_btn"),m=c.getElementById("add_form_data"),n=c.getElementById("remove_form_data"),o=["caffeine","coffee","tea","brew"];k.onclick=function(){var b=c.getElementsByName("drink"),d=c.getElementsByName("milk");b[0].options[0].selected=!0,d[0].options[0].selected=!0,a("#add_form").openModal(g)},m.addEventListener("submit",function(c){c.preventDefault();var f=b("add_form_data");d.addDrinker(f),e.add_row(i,f),a("#add_form").closeModal()},!1),l.onclick=function(){var b=c.getElementById("remove_name");b.options.length=1,b.options[0].selected=!0,d.getRemainingDrinkers().forEach(function(a,d){var e=c.createElement("option");e.value=a,e.textContent=a,b.appendChild(e)},!1),a("#remove_form").openModal(g)},n.addEventListener("submit",function(c){c.preventDefault();var f=b("remove_form_data");d.removeDrinker(f.name),e.remove_row(i,f.name),a("#remove_form").closeModal()},!1),j.onclick=function(){var b=d.getMaker(),h=(c.getElementById("selector"),c.getElementById("slt_head")),j=c.getElementById("slt_content"),k=c.createElement("h5"),l=c.createElement("div"),m=c.createElement("div"),n=c.getElementById("can_make"),p=c.getElementById("cannot_make");j.innerHTML="",h.innerHTML="",k.innerHTML=b.charAt(0).toUpperCase()+b.slice(1),h.appendChild(k),l.setAttribute("class","progress"),m.setAttribute("class","indeterminate"),l.appendChild(m),j.appendChild(l),f("http://api.giphy.com/v1/gifs/random","GET",{api_key:"dc6zaTOxFJmzC",tag:o[Math.floor(Math.random()*o.length)]},function(a){var b=c.createElement("img");b.setAttribute("class","responsive-img"),b.style.minWidth="400px",b.style.maxWidth="400px",b.id="giphy",b.src=a.data.image_url,j.innerHTML="",j.appendChild(b)},function(a){console.log(a)}),n.onclick=function(){d.drinkerCan(b),e.highlight_row(i,b)},p.onclick=function(){d.drinkerCant(b)},a("#selector").openModal(g)}})}(window.jQuery,window,document,new picker,new table);